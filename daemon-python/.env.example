# ARCANOS Configuration
# Copy this file to .env and fill in your values

# ============================================
# REQUIRED
# ============================================

# OpenAI API Key (get from https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-your-api-key-here

# ============================================
# OPTIONAL - Backend
# ============================================

# Backend API URL (Railway deployment)
BACKEND_URL=REDACTED_BACKEND_URL

# Backend authentication (generated after login)
BACKEND_TOKEN=
BACKEND_LOGIN_EMAIL=

# Disable interactive backend login prompts (set true to enable)
BACKEND_LOGIN_PROMPT_ENABLED=false

# Backend auth mode (jwt | api_key | none)
BACKEND_AUTH_MODE=none

# Backend API key (required when BACKEND_AUTH_MODE=api_key)
BACKEND_API_KEY=

# Backend auth header name/prefix (used for jwt and api_key modes)
# Example for raw API key header: BACKEND_AUTH_HEADER=X-API-Key and BACKEND_AUTH_PREFIX=
BACKEND_AUTH_HEADER=Authorization
BACKEND_AUTH_PREFIX=Bearer

# Require backend JWT authentication (deprecated; use BACKEND_AUTH_MODE)
BACKEND_REQUIRE_AUTH=false

# Backend routing (local | backend | hybrid)
BACKEND_ROUTING_MODE=hybrid

# Prefixes that force backend routing in hybrid mode (comma-separated)
BACKEND_DEEP_PREFIXES=deep:,backend:

# Fallback to local GPT if backend fails in hybrid mode
BACKEND_FALLBACK_TO_LOCAL=true

# Backend request timeout in seconds
BACKEND_REQUEST_TIMEOUT=15

# Send update events to backend /api/update
BACKEND_SEND_UPDATES=true

# Auto-route backend when message matches keywords or exceeds word count threshold
BACKEND_AUTO_ROUTE_ENABLED=true
BACKEND_AUTO_ROUTE_KEYWORDS=database,db,sql,postgres,postgresql,table,schema,query,queries,join,select,insert,update,delete,migration,foreign key,primary key,reporting,analytics,deep,deeper,reasoning,complex,multi-step,step-by-step
BACKEND_AUTO_ROUTE_MIN_WORDS=30

# Backend IPC (WebSocket bridge)
BACKEND_WS_URL=
BACKEND_WS_PATH=/ws/daemon
IPC_HEARTBEAT_INTERVAL_SECONDS=30
IPC_RECONNECT_MAX_SECONDS=60
IPC_ENABLED=true

# Daemon GPT identity header (optional, aligns with custom GPT headers)
DAEMON_GPT_ID=
DAEMON_GPT_ID_HEADER=OpenAI-GPT-ID

# Optional backend model overrides (omit to use backend defaults)
BACKEND_CHAT_MODEL=
BACKEND_VISION_MODEL=
BACKEND_TRANSCRIBE_MODEL=

# Max local history entries sent with backend requests
BACKEND_HISTORY_LIMIT=8

# Default backend routing for vision/transcription commands
BACKEND_VISION_ENABLED=false
BACKEND_TRANSCRIBE_ENABLED=false

# ============================================
# OPTIONAL - Rate Limiting
# ============================================

# Maximum requests per hour (default: 60)
MAX_REQUESTS_PER_HOUR=60

# Maximum tokens per day (default: 100000)
MAX_TOKENS_PER_DAY=100000

# Maximum cost per day in USD (default: 10.0)
MAX_COST_PER_DAY=10.0

# ============================================
# OPTIONAL - Features
# ============================================

# Enable telemetry (anonymous crash reports/analytics)
# Set to true to opt-in, false to opt-out
TELEMETRY_ENABLED=false

# Sentry DSN for crash reporting (only if TELEMETRY_ENABLED=true)
SENTRY_DSN=

# Enable auto-start on Windows login
AUTO_START=false

# Enable voice commands by default
VOICE_ENABLED=true

# Enable vision commands by default
VISION_ENABLED=true

# ============================================
# OPTIONAL - Advanced
# ============================================

# OpenAI model for conversation (default: gpt-4o-mini)
OPENAI_MODEL=gpt-4o-mini

# Optional OpenAI endpoint overrides
OPENAI_BASE_URL=
OPENAI_ORG_ID=
OPENAI_PROJECT_ID=

# OpenAI model for vision (default: gpt-4o)
OPENAI_VISION_MODEL=gpt-4o

# OpenAI model for speech-to-text (default: whisper-1)
OPENAI_TRANSCRIBE_MODEL=whisper-1

# Temperature for AI responses (0.0-2.0, default: 0.7)
TEMPERATURE=0.7

# Max tokens per response (default: 500)
MAX_TOKENS=500

# Request timeout in seconds (default: 30)
REQUEST_TIMEOUT=30

# ============================================
# OPTIONAL - Storage
# ============================================

# Base data directory (default: LocalAppData\ARCANOS when packaged, app dir in source runs)
ARCANOS_DATA_DIR=

# Optional override for env file path
ARCANOS_ENV_PATH=

# Force portable mode to store data next to the executable
ARCANOS_PORTABLE=false

# Memory file location
MEMORY_FILE=memories.json

# Log directory
LOG_DIR=logs

# Screenshot directory
SCREENSHOT_DIR=screenshots

# ============================================
# OPTIONAL - Security
# ============================================

# Allow dangerous terminal commands (default: false)
# WARNING: Setting to true allows rm -rf, del, etc.
ALLOW_DANGEROUS_COMMANDS=false

# Command whitelist (comma-separated, overrides blacklist)
COMMAND_WHITELIST=

# Additional command blacklist (comma-separated)
COMMAND_BLACKLIST=format,cipher,takeown

# ============================================
# OPTIONAL - UI
# ============================================

# Color scheme (dark, light, auto)
COLOR_SCHEME=dark

# Show welcome message on startup
SHOW_WELCOME=true

# Show statistics after each request
SHOW_STATS=true

