{
    "name": "arcanos-backend",
    "version": "1.0.0",
    "description": "ARCANOS AI Backend Service",
    "type": "module",
    "main": "dist/server.js",
    "scripts": {
        "probe": "node scripts/probe.js",
        "db:init": "node scripts/db-init.js",
        "db:patch": "node scripts/schema-sync.js",
        "start": "npm run dist:repair-aliases && node --loader ./scripts/esm-alias-loader.mjs dist/start-server.js",
        "dev": "npm run build:workers && tsc && tsc-alias && npm run dist:check-aliases && npm run build:copy-assets && node --loader ./scripts/esm-alias-loader.mjs dist/start-server.js",
        "dev:inspect": "npm run build && node --loader ./scripts/esm-alias-loader.mjs --inspect dist/start-server.js",
        "dev:watch": "tsc --watch",
        "build": "npm run build:workers && tsc && tsc-alias && npm run dist:check-aliases && npm run build:copy-assets",
        "build:copy-assets": "node scripts/copy-assets.cjs",
        "dist:repair-aliases": "node scripts/repair-dist-aliases.js --rewrite",
        "dist:check-aliases": "node scripts/repair-dist-aliases.js --check",
        "clean": "rm -rf dist",
        "rebuild": "npm run clean && npm run build",
        "build:workers": "cd workers && npm run build:workers && cd ..",
        "test": "node --experimental-vm-modules node_modules/jest/bin/jest.js",
        "test:integration": "node --experimental-vm-modules node_modules/jest/bin/jest.js --testPathPattern=integration",
        "test:unit": "node --experimental-vm-modules node_modules/jest/bin/jest.js --testPathPattern=test --testPathIgnorePatterns=integration",
        "test:all": "npm run test:unit && npm run test:integration",
        "type-check": "tsc --noEmit",
        "reindex": "node scripts/reindex-codebase.js",
        "lint": "eslint src/**/*.ts",
        "lint:fix": "eslint src/**/*.ts --fix",
        "assistants-sync": "npx ts-node scripts/assistants-sync.ts",
        "repair-migrations": "node scripts/migration-repair.js",
        "guide:generate": "node scripts/generate-tagged-guide.js",
        "test:doc-workflow": "node scripts/test-doc-workflow.js",
        "self-test": "node --loader ./scripts/esm-alias-loader.mjs dist/commands/runSelfTest.js",
        "daily-summary": "node --loader ./scripts/esm-alias-loader.mjs dist/commands/runDailySummary.js",
        "validate:railway": "node scripts/validate-railway-compatibility.js",
        "audit": "node scripts/continuous-audit.js",
        "audit:continuous": "node scripts/continuous-audit.js",
        "audit:sdk-compliance": "node scripts/continuous-audit.js",
        "audit:fix": "node scripts/continuous-audit.js --auto-fix",
        "audit:recursive": "node scripts/continuous-audit.js --recursive --auto-fix",
        "audit:railway": "node scripts/continuous-audit.js --railway-check",
        "audit:full": "node scripts/continuous-audit.js --recursive --auto-fix --railway-check",
        "audit:python": "cd daemon-python && python scripts/continuous_audit.py",
        "audit:python:fix": "cd daemon-python && python scripts/continuous_audit.py --auto-fix",
        "validate:backend-cli:contract": "node scripts/validate-backend-cli-contract.js",
        "validate:backend-cli:offline": "cd daemon-python && python validate_backend_cli_offline.py",
        "audit:all": "npm run audit:full && npm run audit:python:fix",
        "converge:all": "node scripts/converge-plan.js --max-iterations=10",
        "converge:ci": "node scripts/converge-plan.js --max-iterations=10 --artifact-dir=converge-artifacts",
        "converge:preview": "node scripts/converge-plan.js --preview",
        "sync:check": "node scripts/cross-codebase-sync.js",
        "sync:watch": "node scripts/cross-codebase-sync.js --watch",
        "sync:fix": "node scripts/cross-codebase-sync.js --fix",
        "sync:auto": "node scripts/auto-sync-watcher.js",
        "sync:setup": "node scripts/setup-auto-sync.js",
        "guard:commit": "node check-commit-guard.js",
        "test:all:stacks": "npm test && cd daemon-python && python -m pytest tests/ -q",
        "validate:all": "npm run guard:commit && npm run type-check && npm run lint && npm run build && npm test && npm run validate:railway && npm run validate:backend-cli:contract && npm run validate:backend-cli:offline",
        "postinstall": "node -e \"try { const fs = require('fs'); const path = require('path'); const scriptPath = path.join(process.cwd(), 'scripts', 'setup-auto-sync.js'); if (!fs.existsSync(scriptPath)) { process.exit(0); } try { require(scriptPath); } catch(e) { if (e.code === 'MODULE_NOT_FOUND') { process.exit(0); } throw e; } } catch(e) { process.exit(0); }\" || true",
        "boundary-check": "ts-node scripts/check-boundaries.ts"
    },
    "keywords": [
        "ai",
        "openai",
        "api",
        "backend",
        "arcanos"
    ],
    "author": "Justin",
    "license": "MIT",
    "dependencies": {
        "@prisma/client": "^5.22.0",
        "@types/pg": "^8.15.5",
        "async-mutex": "^0.5.0",
        "axios": "^1.11.0",
        "busboy": "^1.6.0",
        "cheerio": "^1.1.0",
        "cors": "^2.8.5",
        "dotenv": "^16.4.5",
        "express": "^4.21.2",
        "express-rate-limit": "^8.2.1",
        "file-type": "^21.3.0",
        "jose": "^6.1.3",
        "knex": "^2.5.1",
        "node-cron": "^4.2.1",
        "openai": "^6.22.0",
        "pg": "^8.16.3",
        "pino": "^10.3.1",
        "redis": "^5.10.0",
        "uuid": "^13.0.0",
        "ws": "^8.18.0",
        "yauzl": "^3.2.0",
        "zod": "^3.25.76"
    },
    "devDependencies": {
        "@jest/globals": "^30.2.0",
        "@types/busboy": "^1.5.4",
        "@types/cheerio": "^0.22.35",
        "@types/cors": "^2.8.19",
        "@types/dotenv": "^6.1.1",
        "@types/express": "^5.0.3",
        "@types/jest": "^29.5.12",
        "@types/node": "^24.3.0",
        "@types/node-cron": "^3.0.11",
        "@types/supertest": "^6.0.3",
        "@types/uuid": "^10.0.0",
        "@types/ws": "^8.5.13",
        "@types/yauzl": "^2.10.3",
        "@typescript-eslint/eslint-plugin": "^8.15.0",
        "@typescript-eslint/parser": "^8.15.0",
        "eslint": "^9.15.0",
        "eslint-plugin-import": "^2.32.0",
        "jest": "^29.7.0",
        "madge": "^8.0.0",
        "supertest": "^7.1.4",
        "ts-jest": "^29.4.3",
        "ts-node": "^10.9.2",
        "tsc-alias": "^1.8.16",
        "typescript": "^5.9.2"
    },
    "engines": {
        "node": ">=18.0.0",
        "npm": ">=8.0.0"
    }
}
