{
  "version": "1.0",
  "description": "ARCANOS IPC message definitions for daemon-backend WebSocket bridge.",
  "messages": {
    "hello": {
      "direction": "daemon->backend",
      "purpose": "Initial handshake and capability declaration.",
      "required": ["type", "clientId", "sentAt"],
      "optional": ["version", "capabilities", "platform", "instanceId"]
    },
    "hello_ack": {
      "direction": "backend->daemon",
      "purpose": "Confirm handshake and supply server metadata.",
      "required": ["type", "connectionId", "serverTime"],
      "optional": ["serverVersion"]
    },
    "heartbeat": {
      "direction": "daemon->backend",
      "purpose": "Keepalive signal from daemon.",
      "required": ["type", "sentAt"],
      "optional": ["status"]
    },
    "event": {
      "direction": "daemon->backend",
      "purpose": "Send telemetry or update events.",
      "required": ["type", "eventType", "eventId", "sentAt", "payload"],
      "optional": ["source"]
    },
    "command": {
      "direction": "backend->daemon",
      "purpose": "Request a daemon-side action.",
      "required": ["type", "commandId", "name", "issuedAt"],
      "optional": ["payload"]
    },
    "command_result": {
      "direction": "daemon->backend",
      "purpose": "Respond to a command execution request.",
      "required": ["type", "commandId", "ok", "respondedAt"],
      "optional": ["payload", "error"]
    },
    "error": {
      "direction": "both",
      "purpose": "Structured error envelope for IPC failures.",
      "required": ["type", "message", "sentAt"],
      "optional": ["code", "details"]
    }
  }
}
