# Arcanos backend environment template
# Copy to .env and fill real values.

# Required at backend startup (src/config/env.ts)
PORT=3000

# Core runtime
NODE_ENV=development
# HOST=127.0.0.1
# SERVER_URL=http://127.0.0.1:3000

# OpenAI
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
# OPENAI_BASE_URL=https://api.openai.com/v1
# OPENAI_MAX_RETRIES=2

# ================================
# Deployment & Runtime Overrides
# ================================

# Railway / Platform
# Railway environment identifier (set automatically on Railway)
# RAILWAY_ENVIRONMENT=production

# Optional Railway management API token (only required for automation scripts/CI)
RAILWAY_API_TOKEN=
# Railway GraphQL API override
# RAILWAY_GRAPHQL_ENDPOINT=https://backboard.railway.app/graphql/v2
# RAILWAY_GRAPHQL_TIMEOUT_MS=15000

# Storage
# DATABASE_URL=postgresql://user:password@host:5432/database
ARC_LOG_PATH=/tmp/arc/log
ARC_MEMORY_PATH=/tmp/arc/memory

# Workers
RUN_WORKERS=true
# OpenAI request timeout for worker API calls (ms)
WORKER_API_TIMEOUT_MS=60000

# Scholarly (CrossRef) API
# CROSSREF_API_URL=https://api.crossref.org/works
# CROSSREF_API_TIMEOUT_MS=15000
# CROSSREF_DEFAULT_ROWS=3

# Confirmation and automation
# TRUSTED_GPT_IDS=
# ARCANOS_AUTOMATION_SECRET=
# ARCANOS_AUTOMATION_HEADER=x-arcanos-automation

# Optional model overrides
# FINETUNED_MODEL_ID=
# AI_MODEL=
# FALLBACK_MODEL=gpt-4
# GPT51_MODEL=gpt-5.1

# Token safety limits
# TOKEN_SAFE_MAX=8000

# Safety hardening controls
SAFETY_HEARTBEAT_TIMEOUT_MS=15000
SAFETY_HEARTBEAT_MISS_THRESHOLD=3
SAFETY_HEALTHY_CYCLES_TO_RECOVER=3
SAFETY_QUARANTINE_COOLDOWN_MS=120000
SAFETY_WORKER_RESTART_THRESHOLD=5
SAFETY_WORKER_RESTART_WINDOW_MS=300000
DISPATCH_V9_POLICY_TIMEOUT_MS=5000
SAFETY_FAIL_CLOSED_INTEGRITY=true

# Optional integrity hash overrides (set to known-good sha256 values)
# SAFETY_EXPECTED_HASH_DISPATCH_PATTERNS=
# SAFETY_EXPECTED_HASH_PROMPTS=
# SAFETY_EXPECTED_HASH_FALLBACK_MESSAGES=
# SAFETY_EXPECTED_HASH_GPT_ROUTER_CONFIG=
# SAFETY_EXPECTED_HASH_ASSISTANT_REGISTRY=
# SAFETY_EXPECTED_HASH_DAEMON_TOKENS=
# SAFETY_EXPECTED_HASH_PROTECTED_JSON=
